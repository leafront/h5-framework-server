!function(){"use strict";var i="CACHE_VERSION",e=[CONFIG,"/static/??vue/2.5.2/index.js,js/1.0.0/polyfill/index.js","/static/js/index.js","/static/js/user/personal.js","/static/??css/1.0.0/reset.css,css/1.0.0/main.css,css/1.0.0/ui-toast.css,css/1.0.0/ui-showLoading.css,css/1.0.0/ui-dialog.css"];self.addEventListener("install",function(t){t.waitUntil(Promise.all[(caches.open(i).then(function(t){return t.addAll(e)}),caches.keys().then(function(t){return Promise.all(t.map(function(t){if(t!==i)return self.skipWaiting(),caches.delete(t)}))}))])}),self.addEventListener("activate",function(t){t.waitUntil(caches.keys().then(function(t){return Promise.all(t.map(function(t){if(t!==i)return caches.delete(t)}))}))});self.addEventListener("fetch",function(t){var e=t.request.url,n=new URL(e);if("GET"===t.request.method&&"https:"===n.protocol&&n.origin!=location.origin&&function(e){return["img.whqietu.com","static.whqietu.com","assets.piaoniu.com","img.piaoniu.com"].some(function(t){return-1!==e.indexOf(t)})}(e)){var s=function(t){return-1===t.indexOf(location.host)}(e)?new Request(e,{mode:"cors"}):e;t.respondWith(caches.match(s).then(function(t){if(t)return t;var e=s.clone();return fetch(e).then(function(t){if(!t||200!==t.status||"basic"!==t.type&&"cors"!==t.type)return t;var e=t.clone();return caches.open(i).then(function(t){t.put(s,e)}),t})}))}})}();
